// Generated by CoffeeScript 1.7.1
(function() {
  define(["jquery", "underscore", "backbone", "handlebars"], function($, _, Backbone, Handlebars) {
    var DateFormats;
    $.fn.htmlInclusive = function() {
      return $('<div />').append($(this).clone()).html();
    };
    DateFormats = {
      short: "DD MMMM - YYYY",
      long: "dddd DD.MM.YYYY HH:mm"
    };
    Handlebars.registerHelper("ifCond", function(v1, operator, v2, options) {
      switch (operator) {
        case "==":
          if (v1 === v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case "===":
          if (v1 === v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case "<":
          if (v1 < v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case "<=":
          if (v1 <= v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case ">":
          if (v1 > v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case ">=":
          if (v1 >= v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case "&&":
          if (v1 && v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        case "||":
          if (v1 || v2) {
            return options.fn(this);
          } else {
            return options.inverse(this);
          }
        default:
          return options.inverse(this);
      }
    });
    Handlebars.registerHelper("select", function(value, options) {
      var $el;
      if (value == null) {
        value = 'importance';
      }
      $el = $("<select class='form-control' name='" + value + "' id='" + value + "' />").html(options.fn(this));
      $el.find("[value='" + value + "']").attr({
        selected: "selected"
      });
      return $el.htmlInclusive();
    });
    Handlebars.registerHelper("importance_select", function(value, options) {
      var $el;
      if (value == null) {
        value = 'importance';
      }
      $el = $("<select class='form-control' name='importance' id='importance' />").html(options.fn(this));
      $el.find("[value='" + value + "']").attr({
        selected: "selected"
      });
      return $el.htmlInclusive();
    });
    Handlebars.registerHelper("prettifyDate", function(timestamp) {
      var curr_date, curr_hours, curr_mins, curr_month, curr_year, date;
      date = new Date(timestamp);
      curr_year = date.getFullYear();
      curr_month = date.getMonth();
      curr_date = date.getDate();
      curr_mins = date.getMinutes();
      curr_hours = date.getHours();
      return date = curr_date + "/" + curr_month + "/" + curr_year + ' ' + curr_hours + ':' + curr_mins;
    });
    Handlebars.registerHelper("importanceClass", function(importance) {
      switch (importance) {
        case '1':
          return 'H';
        case '2':
          return 'A';
        case '3':
          return 'L';
      }
    });
    return Handlebars.registerHelper("log", function(context) {
      return console.log(context);
    });
  });

}).call(this);
