// Generated by CoffeeScript 1.7.1
(function() {
  define(["jquery", "underscore", "backbone", "text!templates/tasks/new_task.html"], function($, _, Backbone, newTaskTemplate) {
    var newTaskView;
    newTaskView = Backbone.View.extend({
      initialize: function() {
        if (!this.model.isNew()) {
          return this.model.fetch();
        }
      },
      events: {
        'submit': 'saveProject'
      },
      render: function() {
        var compiledTemplate;
        compiledTemplate = _.template(newTaskTemplate);
        this.$el.html(compiledTemplate);
        return this;
      },
      saveProject: function(e) {
        e.preventDefault();
        this.model.set({
          name: this.$("#name").val()
        });
        this.model.set({
          comment: this.$("#comment").val()
        });
        this.model.set({
          importance: this.$("#importance").val()
        });
        return this.model.save();
      }
    });
    return newTaskView;
  });

}).call(this);
