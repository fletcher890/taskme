// Generated by CoffeeScript 1.7.1
(function() {
  define(["jquery", "underscore", "backbone", "vent", "views/new_task", "models/task", "text!templates/content/content.haml", "handlebars"], function($, _, Backbone, Vent, NewTaskView, TaskModel, contentTemplate, Handlebars) {
    var contentView;
    contentView = Backbone.View.extend({
      template: Handlebars.compile(contentTemplate),
      events: {
        'click #clearEditForm': 'newTask'
      },
      initialize: function() {
        return this.listenTo(Vent, "task:edit", this.editTask);
      },
      swapMain: function(view) {
        this.changeCurrentMainView(view);
        return this.$('#main-area').html(this.currentMainView.render().el);
      },
      changeCurrentMainView: function(view) {
        if (this.currentMainView) {
          this.currentMainView.remove();
        }
        return this.currentMainView = view;
      },
      swapSide: function(view) {
        this.changeCurrentSideView(view);
        return this.$('#sidebar').html(this.currentSideView.render().el);
      },
      changeCurrentSideView: function(view) {
        if (this.currentSideView) {
          this.currentSideView.remove();
        }
        return this.currentSideView = view;
      },
      render: function() {
        this.$el.html(this.template({
          title: 'content area'
        }));
        return this;
      },
      editTask: function(model) {
        return this.swapSide(new NewTaskView({
          model: model
        }));
      },
      newTask: function() {
        return this.swapSide(new NewTaskView({
          model: new TaskModel()
        }));
      }
    });
    return contentView;
  });

}).call(this);
