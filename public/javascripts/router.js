// Generated by CoffeeScript 1.7.1
(function() {
  define(["jquery", "underscore", "backbone", "views/header", "views/content", "models/task"], function($, _, Backbone, HeaderView, ContentView, TaskModel) {
    var AppRouter, initialize;
    AppRouter = Backbone.Router.extend({
      routes: {
        "": "index",
        "*actions": "defaultAction"
      }
    });
    initialize = function() {
      var router;
      router = new AppRouter();
      this.headerView = new HeaderView();
      this.contentView = new ContentView();
      this.layoutViews();
      router.on("route:optimize", function() {
        require(["views/optimize/page"], function(OptimizePage) {
          var optimizePage;
          optimizePage = Vm.create(appView, "OptimizePage", OptimizePage);
          optimizePage.render();
        });
      });
      router.on("route:index", (function(_this) {
        return function() {
          return require(["views/new_task", "views/tasks", "collections/tasks"], function(NewTaskView, TasksView, TasksCollection) {
            _this.contentView.swapSide(new NewTaskView({
              model: new TaskModel
            }));
            return _this.contentView.swapMain(new TasksView({
              collection: new TasksCollection
            }));
          });
        };
      })(this));
      router.on("route:defaultAction", function(actions) {
        console.log("There is no action for: - " + actions);
      });
      Backbone.history.start();
    };
    return {
      layoutViews: function() {
        $("#header").html(this.headerView.render().el);
        return $("#content").html(this.contentView.render().el);
      },
      initialize: initialize
    };
  });

}).call(this);
